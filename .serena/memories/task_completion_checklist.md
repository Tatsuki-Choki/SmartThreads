# タスク完了時チェックリスト

## 必須実行コマンド

### フロントエンド（smartthreads-frontend）
開発タスク完了時に必ず実行すること：

1. **型チェック**
   ```bash
   npm run type-check
   ```

2. **リント・フォーマット**
   ```bash
   npm run lint
   npm run format:check
   ```

3. **ビルドテスト**
   ```bash
   npm run build
   ```

### バックエンド（smartthreads-backend）
開発タスク完了時に必ず実行すること：

1. **リント・フォーマット**
   ```bash
   npm run lint
   npm run format
   ```

2. **テスト**
   ```bash
   npm run test
   ```

3. **ビルドテスト**
   ```bash
   npm run build
   ```

## セキュリティチェック

### 機密情報チェック
- [ ] 環境変数やシークレットがコードに含まれていない
- [ ] APIキーやパスワードがハードコードされていない
- [ ] デバッグ情報が本番環境で出力されない
- [ ] ログに機密情報が含まれていない

### アクセス制御チェック
- [ ] 適切な認証・認可が実装されている
- [ ] ロールベースアクセス制御が機能している
- [ ] CORS設定が適切である
- [ ] CSRFトークンが実装されている

## コード品質チェック

### TypeScript
- [ ] any型の使用を最小限に抑えている
- [ ] 適切な型定義が行われている
- [ ] 未使用変数・インポートがない
- [ ] strict modeで警告・エラーがない

### React/Next.js（フロントエンド）
- [ ] useEffectの依存関係が適切である
- [ ] アクセシビリティ（a11y）が考慮されている
- [ ] パフォーマンス最適化が適切である
- [ ] PWA機能が正常に動作する

### NestJS（バックエンド）
- [ ] DTOとバリデーションが適切である
- [ ] エラーハンドリングが実装されている
- [ ] レート制限が適切に設定されている
- [ ] API仕様（Swagger）が更新されている

## テスト関連

### 必須テストケース
- [ ] 単体テストが追加・更新されている
- [ ] 重要な機能にE2Eテストがある
- [ ] エラーケースのテストが含まれている
- [ ] テストカバレッジが基準を満たしている

### 手動テスト
- [ ] 基本的なユーザーフローが動作する
- [ ] モバイルビューで正常に表示される
- [ ] 異なるブラウザで動作確認済み
- [ ] エラーメッセージが適切に表示される

## デプロイメント準備

### 環境設定
- [ ] 環境変数が適切に設定されている
- [ ] データベースマイグレーションが準備されている
- [ ] 設定ファイルが各環境に対応している

### パフォーマンス
- [ ] バンドルサイズが適切である
- [ ] 重要なメトリクス（LCP、TTI）が要件を満たしている
- [ ] データベースクエリが最適化されている

## ドキュメント更新

### 必要に応じて更新
- [ ] CLAUDE.mdファイル（プロジェクト指示）
- [ ] API仕様書（Swagger）
- [ ] 環境変数リスト（.env.example）
- [ ] READMEファイル（新機能追加時）

## 最終確認

### デプロイ前チェック
- [ ] 全ての自動テストが成功している
- [ ] ローカル環境で正常動作確認済み
- [ ] セキュリティスキャンで問題なし
- [ ] パフォーマンステストで基準クリア